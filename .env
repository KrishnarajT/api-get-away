# Server
PORT=8080
APP_BASE_URL=http://localhost:8080

# Cookie
SESSION_COOKIE_NAME=sid
SESSION_COOKIE_DOMAIN= # leave blank for host-only
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_SAMESITE=Lax

# Redis
REDIS_URL=redis://localhost:6379

# Authentik OIDC
OIDC_ISSUER=https://authentik.krishnarajthadesar.in/application/o/authentic-tracker/
OIDC_AUTHORIZATION_ENDPOINT=https://authentik.krishnarajthadesar.in/application/o/authorize/
OIDC_TOKEN_ENDPOINT=https://authentik.krishnarajthadesar.in/application/o/token/
OIDC_USERINFO_ENDPOINT=https://authentik.krishnarajthadesar.in/application/o/userinfo/
OIDC_CLIENT_ID=e8AJ9gM1EK7cpaGuwN1ED9NcJrKemA0U0INoOlpa
OIDC_CLIENT_SECRET=<paste from authentik UI>
OIDC_REDIRECT_PATH=/auth/callback
OIDC_SCOPES=openid profile email offline_access
OIDC_JWKS_URI=https://authentik.krishnarajthadesar.in/application/o/authentic-tracker/jwks/
# Upstream backend (whatever your BFF proxies to)
UPSTREAM_API_BASE_URL=http://backend:8000

# Optional dev
ALLOWED_ORIGINS=http://localhost:8080

# (Optional) OAuth2 revocation endpoint (Authentik supports it)
OIDC_REVOCATION_ENDPOINT=https://authentik.krishnarajthadesar.in/application/o/revoke/

# Token timing leeway & refresh policy
ID_TOKEN_MAX_AGE_SECONDS=900        # e.g., require ID token <=15m old when verifying (optional)
TOKEN_REFRESH_SKEW_SECONDS=60       # refresh if <60s to expiry

NODE_ENV=development
